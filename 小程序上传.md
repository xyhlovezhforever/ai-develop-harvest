# 小程序内部使用与分享指南

## 概述

如果不想发布小程序，只想内部使用，可以通过以下几种方式将小程序分享给团队成员：

## 方式一：体验版（推荐）

### 1. 配置体验版

#### 步骤 1：注册小程序账号
1. 访问 [微信公众平台](https://mp.weixin.qq.com/)
2. 注册小程序账号（需要企业认证或个体户认证）
3. 获取小程序 AppID

#### 步骤 2：配置 AppID
在 `src/manifest.json` 中配置 AppID：

```json
{
  "mp-weixin": {
    "appid": "你的小程序AppID",
    "setting": {
      "urlCheck": false
    },
    "usingComponents": true
  }
}
```

#### 步骤 3：上传代码版本
```bash
# 编译小程序
npm run build:mp-weixin

# 在微信开发者工具中：
# 1. 点击"上传"按钮
# 2. 填写版本号和项目备注
# 3. 上传代码
```

#### 步骤 4：设置为体验版
1. 登录 [微信公众平台](https://mp.weixin.qq.com/)
2. 进入"版本管理"
3. 找到上传的版本，点击"选为体验版"
4. 设置体验版二维码和说明

#### 步骤 5：添加体验者
1. 在"成员管理" → "体验者管理"中
2. 点击"添加体验者"
3. 输入需要添加的微信用户的微信号（不是昵称）
4. 最多可添加 50 个体验者

#### 步骤 6：分享体验版
- **体验版二维码**：在"版本管理" → "体验版"中可下载二维码
- **体验版链接**：可复制体验版链接分享
- 体验者通过扫码或链接即可使用

### 体验版优势
- ✅ 功能完整，接近正式版
- ✅ 最多支持 50 个体验者
- ✅ 可以随时更新版本
- ✅ 不需要提交审核
- ✅ 体验者长期有效

### 体验版限制
- ⚠️ 需要注册小程序账号
- ⚠️ 需要企业认证（个人也可以，但功能有限）
- ⚠️ 最多 50 个体验者

---

## 方式二：预览二维码（临时测试）

### 使用方法

#### 步骤 1：生成预览二维码
1. 在微信开发者工具中打开项目
2. 点击右上角"预览"按钮
3. 自动生成预览二维码

#### 步骤 2：分享二维码
- 截图二维码发送给团队成员
- 用微信扫码即可使用
- 二维码 5 分钟后过期

### 预览二维码优势
- ✅ 无需注册小程序账号
- ✅ 无需认证
- ✅ 快速便捷

### 预览二维码限制
- ⚠️ 二维码 5 分钟后过期
- ⚠️ 需要开发者工具保持运行
- ⚠️ 每次重新生成需要重新分享

---

## 方式三：真机调试

### 使用方法

#### 步骤 1：连接真机
1. 在微信开发者工具中点击"真机调试"
2. 使用 USB 连接手机，或使用局域网连接
3. 在手机上打开微信，扫描真机调试二维码

#### 步骤 2：分享给他人
1. 真机调试会生成一个调试链接
2. 将链接分享给团队成员
3. 团队成员打开链接，选择"真机调试"
4. 在微信开发者工具中选择对应设备

### 真机调试优势
- ✅ 可以实时调试和查看日志
- ✅ 适合开发调试阶段

### 真机调试限制
- ⚠️ 需要开发者工具保持运行
- ⚠️ 链接有时效性
- ⚠️ 不适合日常使用

---

## 方式四：开发版（适用于小程序后台已开通）

### 使用方法

如果已经有小程序账号和 AppID：

#### 步骤 1：添加开发者
1. 登录 [微信公众平台](https://mp.weixin.qq.com/)
2. 进入"成员管理" → "项目成员"
3. 点击"添加成员"
4. 输入需要添加的微信用户的微信号
5. 选择角色：开发者/体验者

#### 步骤 2：开发者权限
- **开发者**：可以上传代码、发布版本
- **体验者**：可以体验小程序

#### 步骤 3：分享开发版
- 开发者上传代码后，可以分享预览二维码
- 或者设置为体验版后分享体验版二维码

---

## 推荐方案对比

| 方式 | 适用场景 | 人数限制 | 时效性 | 配置复杂度 |
|------|---------|---------|--------|-----------|
| **体验版** | 长期内部使用 | 50人 | 长期有效 | 中等 |
| **预览二维码** | 临时测试 | 无限制 | 5分钟过期 | 简单 |
| **真机调试** | 开发调试 | 无限制 | 有时效性 | 中等 |
| **开发版** | 开发团队 | 根据配置 | 根据配置 | 中等 |

---

## 快速开始（无小程序账号）

### 方案 A：预览二维码（最简单）

1. **编译项目**
   ```bash
   npm run dev:mp-weixin
   ```

2. **生成预览二维码**
   - 在微信开发者工具中点击"预览"
   - 截图二维码发送给团队成员
   - 团队成员扫码使用

3. **注意事项**
   - 二维码 5 分钟后过期
   - 需要开发者工具保持运行
   - 适合临时测试和演示

### 方案 B：体验版（推荐长期使用）

1. **注册小程序账号**
   - 访问 [微信公众平台](https://mp.weixin.qq.com/)
   - 注册小程序账号（个人也可以注册）

2. **配置 AppID**
   - 在 `src/manifest.json` 中填写 AppID

3. **上传和发布体验版**
   - 编译并上传代码
   - 设置为体验版
   - 添加体验者
   - 分享体验版二维码

---

## 常见问题

### Q1: 没有小程序账号，可以分享吗？
**A**: 可以，使用预览二维码即可，但有时效性（5分钟过期）。

### Q2: 个人可以注册小程序吗？
**A**: 可以，个人也可以注册小程序账号，但功能有限。

### Q3: 体验版需要审核吗？
**A**: 不需要，体验版不需要审核，可以随时上传和更新。

### Q4: 预览二维码过期了怎么办？
**A**: 重新在开发者工具中点击"预览"生成新的二维码。

### Q5: 体验版可以长期使用吗？
**A**: 可以，体验版可以长期使用，只要不主动删除。

### Q6: 可以设置多个体验版吗？
**A**: 不可以，只能有一个体验版，但可以随时更新。

### Q7: 体验者可以看到所有功能吗？
**A**: 可以，体验者可以看到所有已实现的功能，和正式版基本一致。

---

## 配置示例

### manifest.json 配置示例

```json
{
  "mp-weixin": {
    "appid": "wx1234567890abcdef",  // 替换为你的 AppID
    "setting": {
      "urlCheck": false,
      "es6": true,
      "postcss": true,
      "minified": true
    },
    "usingComponents": true,
    "permission": {
      "scope.userLocation": {
        "desc": "你的位置信息将用于小程序位置接口的效果展示"
      }
    }
  }
}
```

### 上传代码步骤

1. **编译生产版本**
   ```bash
   npm run build:mp-weixin
   ```

2. **在微信开发者工具中**
   - 点击"上传"按钮
   - 填写版本号（如：1.0.8）
   - 填写项目备注（如：内部体验版）
   - 点击"上传"

3. **在微信公众平台中**
   - 进入"版本管理"
   - 找到上传的版本
   - 点击"选为体验版"

---

## 最佳实践

### 1. 内部测试流程

1. **开发阶段**：使用预览二维码快速测试
2. **内部测试**：上传体验版，添加体验者测试
3. **正式发布**：测试通过后提交审核发布

### 2. 版本管理

- 使用语义化版本号（如：1.0.8）
- 每次上传都填写清晰的备注
- 保留历史版本以备回滚

### 3. 体验者管理

- 定期清理不活跃的体验者
- 及时添加新成员
- 建立体验反馈机制

---

## 相关链接

- [微信公众平台](https://mp.weixin.qq.com/)
- [小程序开发文档](https://developers.weixin.qq.com/miniprogram/dev/framework/)
- [uniapp 小程序开发](https://uniapp.dcloud.net.cn/quickstart-mp.html)

---

## 版本历史

- **v1.0.8**: 添加内部使用与分享指南

